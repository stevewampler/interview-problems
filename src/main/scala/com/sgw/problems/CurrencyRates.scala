package com.sgw.problems

/**
  * Given a set of exchange rates from EUR to other currencies, generate all of the other exchanges rates between
  * every currency.
  */
object CurrencyRates extends App {
  val fetchedFXRates: Map[String, Double] = Map(
    "AED" -> 4.318027,
    "AFN" -> 88.756426,
    "ALL" -> 126.513078,
    "AMD" -> 566.215611,
    "ANG" -> 2.169184,
    "AOA" -> 340.548078,
    "ARS" -> 45.295135,
    "AUD" -> 1.617263,
    "AWG" -> 2.11599,
    "AZN" -> 2.001373,
    "BAM" -> 1.873947,
    "BBD" -> 2.353275,
    "BDT" -> 98.812052,
    "BGN" -> 1.956587,
    "BHD" -> 0.443135,
    "BIF" -> 2099.53266,
    "BMD" -> 1.17555,
    "BND" -> 1.616558,
    "BOB" -> 8.123933,
    "BRL" -> 4.737935,
    "BSD" -> 1.175491,
    "BTC" -> 0.000181,
    "BTN" -> 85.191609,
    "BWP" -> 12.4867,
    "BYN" -> 2.470125,
    "BYR" -> 23040.783951,
    "BZD" -> 2.363033,
    "CAD" -> 1.528774,
    "CDF" -> 1911.444678,
    "CHF" -> 1.133995,
    "CLF" -> 0.026567,
    "CLP" -> 778.337356,
    "CNY" -> 8.08664,
    "COP" -> 3525.768942,
    "CRC" -> 681.154962,
    "CUC" -> 1.17555,
    "CUP" -> 31.15208,
    "CVE" -> 110.615156,
    "CZK" -> 25.652624,
    "DJF" -> 208.91834,
    "DKK" -> 7.460465,
    "DOP" -> 58.70107,
    "DZD" -> 138.4269,
    "EGP" -> 21.048814,
    "ERN" -> 17.633304,
    "ETB" -> 32.856807,
    "EUR" -> 1,
    "FJD" -> 2.495399,
    "FKP" -> 0.89343,
    "GBP" -> 0.892143,
    "GEL" -> 3.074027,
    "GGP" -> 0.892198,
    "GHS" -> 5.877601,
    "GIP" -> 0.89343,
    "GMD" -> 57.772401,
    "GNF" -> 10726.895853,
    "GTQ" -> 9.06743,
    "GYD" -> 245.783835,
    "HKD" -> 9.183145,
    "HNL" -> 28.342579,
    "HRK" -> 7.424834,
    "HTG" -> 81.979329,
    "HUF" -> 323.61131,
    "IDR" -> 17540.384558,
    "ILS" -> 4.215917,
    "IMP" -> 0.892198,
    "INR" -> 85.050864,
    "IQD" -> 1400.08029,
    "IRR" -> 49496.540879,
    "ISK" -> 129.110915,
    "JEP" -> 0.892198,
    "JMD" -> 160.497555,
    "JOD" -> 0.834059,
    "JPY" -> 132.505079,
    "KES" -> 118.611172,
    "KGS" -> 81.171669,
    "KHR" -> 4805.064875,
    "KMF" -> 492.408639,
    "KPW" -> 1057.99527,
    "KRW" -> 1310.350417,
    "KWD" -> 0.355962,
    "KYD" -> 0.979803,
    "KZT" -> 423.809638,
    "LAK" -> 9999.229398,
    "LBP" -> 1778.783602,
    "LKR" -> 198.62091,
    "LRD" -> 182.504064,
    "LSL" -> 16.757476,
    "LTL" -> 3.471094,
    "LVL" -> 0.711078,
    "LYD" -> 1.622302,
    "MAD" -> 11.000439,
    "MDL" -> 19.833296,
    "MGA" -> 4002.749105,
    "MKD" -> 61.597524,
    "MMK" -> 1875.17888,
    "MNT" -> 2967.068302,
    "MOP" -> 9.460237,
    "MRO" -> 419.671318,
    "MUR" -> 40.262457,
    "MVR" -> 18.103028,
    "MWK" -> 854.783726,
    "MXN" -> 22.155959,
    "MYR" -> 4.868541,
    "MZN" -> 71.479303,
    "NAD" -> 16.851583,
    "NGN" -> 427.31114,
    "NIO" -> 37.776356,
    "NOK" -> 9.529539,
    "NPR" -> 136.44584,
    "NZD" -> 1.765271,
    "OMR" -> 0.452522,
    "PAB" -> 1.175609,
    "PEN" -> 3.882607,
    "PGK" -> 3.823065,
    "PHP" -> 63.69114,
    "PKR" -> 145.474514,
    "PLN" -> 4.270909,
    "PYG" -> 6930.570985,
    "QAR" -> 4.280232,
    "RON" -> 4.659994,
    "RSD" -> 118.47224,
    "RUB" -> 77.490741,
    "RWF" -> 1020.96535,
    "SAR" -> 4.408608,
    "SBD" -> 9.376483,
    "SCR" -> 15.99453,
    "SDG" -> 21.161663,
    "SEK" -> 10.351143,
    "SGD" -> 1.604409,
    "SHP" -> 1.552779,
    "SLL" -> 9874.62194,
    "SOS" -> 678.853729,
    "SRD" -> 8.767267,
    "STD" -> 24554.202666,
    "SVC" -> 10.287357,
    "SYP" -> 605.408579,
    "SZL" -> 16.763867,
    "THB" -> 38.123236,
    "TJS" -> 11.06886,
    "TMT" -> 4.114426,
    "TND" -> 3.269439,
    "TOP" -> 2.670265,
    "TRY" -> 7.161146,
    "TTD" -> 7.923855,
    "TWD" -> 36.055295,
    "TZS" -> 2683.544165,
    "UAH" -> 33.05174,
    "UGX" -> 4494.010675,
    "USD" -> 1.17555,
    "UYU" -> 38.369825,
    "UZS" -> 9521.956572,
    "VEF" -> 292147.676913,
    "VND" -> 27447.333882,
    "VUV" -> 132.996769,
    "WST" -> 3.056106,
    "XAF" -> 656.368146,
    "XAG" -> 0.08182,
    "XAU" -> 0.000984,
    "XCD" -> 3.176984,
    "XDR" -> 0.837292,
    "XOF" -> 664.186266,
    "XPF" -> 119.694593,
    "YER" -> 294.299151,
    "ZAR" -> 16.605082,
    "ZMK" -> 10581.358034,
    "ZMW" -> 14.029034,
    "ZWL" -> 378.944498
  )

  val currencies = fetchedFXRates.keys.toList

  val currencyCombos = currencies.flatMap { currency1 =>
    currencies.map { currency2 =>
      currency1 -> currency2
    }
  }.sorted

  def fxRate(fromCurrency: String, toCurrency: String): Option[Double] =
    fetchedFXRates.get(fromCurrency).flatMap { rate1 =>
      fetchedFXRates.get(toCurrency).map { rate2 =>
        (1.0 / rate1) * rate2
      }
    }


  currencyCombos.filter { case (c1, c2) =>
    c1 == "USD" || c2 == "USD"
  }.map { case (fromCurrency, toCurrency) =>
    (fromCurrency, toCurrency) -> fxRate(fromCurrency, toCurrency)
  }.foreach(println)
}
